{"ast":null,"code":"var _jsxFileName = \"/Users/bmacer/substrate-node-template/substrate-front-end-template/src/BlockNumber.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Statistic, Grid, Card, Icon } from 'semantic-ui-react';\nimport { useSubstrate } from './substrate-lib';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Main(props) {\n  _s();\n\n  const {\n    api\n  } = useSubstrate();\n  const {\n    finalized\n  } = props;\n  const [blockNumber, setBlockNumber] = useState(0);\n  const [blockNumberTimer, setBlockNumberTimer] = useState(0);\n  const bestNumber = finalized ? api.derive.chain.bestNumberFinalized : api.derive.chain.bestNumber;\n  useEffect(() => {\n    let unsubscribeAll = null;\n    bestNumber(number => {\n      setBlockNumber(number.toNumber());\n      setBlockNumberTimer(0);\n    }).then(unsub => {\n      unsubscribeAll = unsub;\n    }).catch(console.error);\n    return () => unsubscribeAll && unsubscribeAll();\n  }, [bestNumber]);\n\n  const timer = () => {\n    setBlockNumberTimer(time => time + 1);\n  };\n\n  useEffect(() => {\n    const id = setInterval(timer, 1000);\n    return () => clearInterval(id);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Grid.Column, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Card.Content, {\n        textAlign: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Statistic, {\n          label: (finalized ? 'Finalized' : 'Current') + ' Block',\n          value: blockNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Content, {\n        extra: true,\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          name: \"time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), \" \", blockNumberTimer]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Main, \"RTttdWiPw/pWN6j1heILjKUClU4=\", false, function () {\n  return [useSubstrate];\n});\n\n_c = Main;\nexport default function BlockNumber(props) {\n  _s2();\n\n  const {\n    api\n  } = useSubstrate();\n  return api.derive && api.derive.chain && api.derive.chain.bestNumber && api.derive.chain.bestNumberFinalized ? /*#__PURE__*/_jsxDEV(Main, { ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 7\n  }, this) : null;\n}\n\n_s2(BlockNumber, \"a5IVjGvlzdb5yuE5zCYn+JGZcoo=\", false, function () {\n  return [useSubstrate];\n});\n\n_c2 = BlockNumber;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Main\");\n$RefreshReg$(_c2, \"BlockNumber\");","map":{"version":3,"sources":["/Users/bmacer/substrate-node-template/substrate-front-end-template/src/BlockNumber.js"],"names":["React","useEffect","useState","Statistic","Grid","Card","Icon","useSubstrate","Main","props","api","finalized","blockNumber","setBlockNumber","blockNumberTimer","setBlockNumberTimer","bestNumber","derive","chain","bestNumberFinalized","unsubscribeAll","number","toNumber","then","unsub","catch","console","error","timer","time","id","setInterval","clearInterval","BlockNumber"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,IAA1B,EAAgCC,IAAhC,QAA4C,mBAA5C;AAEA,SAASC,YAAT,QAA6B,iBAA7B;;;AAEA,SAASC,IAAT,CAAeC,KAAf,EAAsB;AAAA;;AACpB,QAAM;AAAEC,IAAAA;AAAF,MAAUH,YAAY,EAA5B;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAgBF,KAAtB;AACA,QAAM,CAACG,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAACY,gBAAD,EAAmBC,mBAAnB,IAA0Cb,QAAQ,CAAC,CAAD,CAAxD;AAEA,QAAMc,UAAU,GAAGL,SAAS,GACxBD,GAAG,CAACO,MAAJ,CAAWC,KAAX,CAAiBC,mBADO,GAExBT,GAAG,CAACO,MAAJ,CAAWC,KAAX,CAAiBF,UAFrB;AAIAf,EAAAA,SAAS,CAAC,MAAM;AACd,QAAImB,cAAc,GAAG,IAArB;AAEAJ,IAAAA,UAAU,CAACK,MAAM,IAAI;AACnBR,MAAAA,cAAc,CAACQ,MAAM,CAACC,QAAP,EAAD,CAAd;AACAP,MAAAA,mBAAmB,CAAC,CAAD,CAAnB;AACD,KAHS,CAAV,CAIGQ,IAJH,CAIQC,KAAK,IAAI;AACbJ,MAAAA,cAAc,GAAGI,KAAjB;AACD,KANH,EAOGC,KAPH,CAOSC,OAAO,CAACC,KAPjB;AASA,WAAO,MAAMP,cAAc,IAAIA,cAAc,EAA7C;AACD,GAbQ,EAaN,CAACJ,UAAD,CAbM,CAAT;;AAeA,QAAMY,KAAK,GAAG,MAAM;AAClBb,IAAAA,mBAAmB,CAACc,IAAI,IAAIA,IAAI,GAAG,CAAhB,CAAnB;AACD,GAFD;;AAIA5B,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM6B,EAAE,GAAGC,WAAW,CAACH,KAAD,EAAQ,IAAR,CAAtB;AACA,WAAO,MAAMI,aAAa,CAACF,EAAD,CAA1B;AACD,GAHQ,EAGN,EAHM,CAAT;AAKA,sBACE,QAAC,IAAD,CAAM,MAAN;AAAA,2BACE,QAAC,IAAD;AAAA,8BACE,QAAC,IAAD,CAAM,OAAN;AAAc,QAAA,SAAS,EAAC,QAAxB;AAAA,+BACE,QAAC,SAAD;AACE,UAAA,KAAK,EAAE,CAACnB,SAAS,GAAG,WAAH,GAAiB,SAA3B,IAAwC,QADjD;AAEE,UAAA,KAAK,EAAEC;AAFT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAOE,QAAC,IAAD,CAAM,OAAN;AAAc,QAAA,KAAK,MAAnB;AAAA,gCACE,QAAC,IAAD;AAAM,UAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,gBADF,OACwBE,gBADxB;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAeD;;GAjDQN,I;UACSD,Y;;;KADTC,I;AAmDT,eAAe,SAASyB,WAAT,CAAsBxB,KAAtB,EAA6B;AAAA;;AAC1C,QAAM;AAAEC,IAAAA;AAAF,MAAUH,YAAY,EAA5B;AACA,SAAOG,GAAG,CAACO,MAAJ,IACLP,GAAG,CAACO,MAAJ,CAAWC,KADN,IAELR,GAAG,CAACO,MAAJ,CAAWC,KAAX,CAAiBF,UAFZ,IAGLN,GAAG,CAACO,MAAJ,CAAWC,KAAX,CAAiBC,mBAHZ,gBAIH,QAAC,IAAD,OAAUV;AAAV;AAAA;AAAA;AAAA;AAAA,UAJG,GAKH,IALJ;AAMD;;IARuBwB,W;UACN1B,Y;;;MADM0B,W","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Statistic, Grid, Card, Icon } from 'semantic-ui-react';\n\nimport { useSubstrate } from './substrate-lib';\n\nfunction Main (props) {\n  const { api } = useSubstrate();\n  const { finalized } = props;\n  const [blockNumber, setBlockNumber] = useState(0);\n  const [blockNumberTimer, setBlockNumberTimer] = useState(0);\n\n  const bestNumber = finalized\n    ? api.derive.chain.bestNumberFinalized\n    : api.derive.chain.bestNumber;\n\n  useEffect(() => {\n    let unsubscribeAll = null;\n\n    bestNumber(number => {\n      setBlockNumber(number.toNumber());\n      setBlockNumberTimer(0);\n    })\n      .then(unsub => {\n        unsubscribeAll = unsub;\n      })\n      .catch(console.error);\n\n    return () => unsubscribeAll && unsubscribeAll();\n  }, [bestNumber]);\n\n  const timer = () => {\n    setBlockNumberTimer(time => time + 1);\n  };\n\n  useEffect(() => {\n    const id = setInterval(timer, 1000);\n    return () => clearInterval(id);\n  }, []);\n\n  return (\n    <Grid.Column>\n      <Card>\n        <Card.Content textAlign='center'>\n          <Statistic\n            label={(finalized ? 'Finalized' : 'Current') + ' Block'}\n            value={blockNumber}\n          />\n        </Card.Content>\n        <Card.Content extra>\n          <Icon name='time' /> {blockNumberTimer}\n        </Card.Content>\n      </Card>\n    </Grid.Column>\n  );\n}\n\nexport default function BlockNumber (props) {\n  const { api } = useSubstrate();\n  return api.derive &&\n    api.derive.chain &&\n    api.derive.chain.bestNumber &&\n    api.derive.chain.bestNumberFinalized\n    ? <Main {...props} />\n    : null;\n}\n"]},"metadata":{},"sourceType":"module"}